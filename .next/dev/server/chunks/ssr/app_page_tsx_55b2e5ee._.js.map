{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/rocket/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useSession } from 'next-auth/react';\nimport { useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { useCart } from '@/context/CartContext';\n\ninterface Product {\n  _id: string;\n  title: string;\n  price: number;\n  image: string;\n  description: string;\n  stock: number;\n  category: string;\n  type: 'buy' | 'rent';\n}\n\nexport default function Home() {\n  const { data: session } = useSession();\n  const { addToCart, cartCount } = useCart();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  const fetchProducts = async () => {\n    try {\n      const res = await fetch('/api/products');\n      if (res.ok) {\n        const data = await res.json();\n        setProducts(data);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddToCart = (product: Product) => {\n    addToCart({\n      productId: product._id,\n      title: product.title,\n      price: product.price,\n      image: product.image,\n      quantity: 1,\n      type: product.type,\n    });\n  };\n\n  const handleDelete = async (id: string, e: React.MouseEvent) => {\n    e.preventDefault();\n    if (!confirm('Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) return;\n    try {\n      const res = await fetch(`/api/products/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        fetchProducts();\n      } else {\n        alert('ÏÇ≠Ï†ú Ïã§Ìå®');\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Header / GNB */}\n      <header className=\"fixed top-0 left-0 right-0 z-50 bg-[#050A18]/80 backdrop-blur-lg border-b border-white/10\">\n        <div className=\"max-w-7xl mx-auto px-6 h-16 flex justify-between items-center\">\n          <Link href=\"/\" className=\"flex items-center gap-2 group\">\n            <span className=\"text-2xl transition-transform group-hover:rotate-12\">üöÄ</span>\n            <h1 className=\"text-xl font-black tracking-tighter text-gradient uppercase\">Rocket</h1>\n          </Link>\n\n          <div className=\"flex gap-4 items-center\">\n            <Link href=\"/cart\" className=\"relative p-2.5 hover:bg-white/5 rounded-2xl transition-colors group\">\n              <span className=\"text-xl transition-transform group-hover:scale-110 block\">üõí</span>\n              {cartCount > 0 && (\n                <span className=\"absolute top-1 right-1 bg-[var(--primary)] text-white text-[10px] font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-[#050A18] animate-pulse\">\n                  {cartCount}\n                </span>\n              )}\n            </Link>\n\n            {session ? (\n              <div className=\"flex items-center gap-3\">\n                <Link href=\"/profile\" className=\"flex items-center gap-2.5 pl-1 pr-3 py-1 bg-white/5 hover:bg-white/10 border border-white/10 rounded-full transition-all group\">\n                  <div className=\"w-8 h-8 rounded-full overflow-hidden bg-gradient-to-br from-[var(--primary)] to-[var(--accent)] p-[1px]\">\n                    <div className=\"w-full h-full rounded-full bg-[#112240] flex items-center justify-center overflow-hidden\">\n                      {session.user?.image ? (\n                        <img src={session.user.image} alt=\"User\" className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <span className=\"text-xs\">üßë‚ÄçüöÄ</span>\n                      )}\n                    </div>\n                  </div>\n                  <span className=\"text-sm font-semibold max-w-[80px] truncate group-hover:text-[var(--accent)]\">{session.user?.name}</span>\n                </Link>\n                {session.user.role === 'admin' && (\n                  <Link href=\"/admin/products/new\" className=\"btn-rocket text-xs py-2 h-9\">\n                    <span className=\"text-sm\">+</span> Îì±Î°ù\n                  </Link>\n                )}\n              </div>\n            ) : (\n              <Link href=\"/auth/login\" className=\"text-sm font-bold text-white/70 hover:text-white transition-colors border-b border-transparent hover:border-white\">\n                Î°úÍ∑∏Ïù∏\n              </Link>\n            )}\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-6 pt-24 pb-20\">\n        {/* Banner Section */}\n        <section className=\"mb-12 relative overflow-hidden rounded-[2rem] p-10 bg-[var(--surface-solid)] border border-white/5\">\n          <div className=\"relative z-10 max-w-lg\">\n            <span className=\"inline-block px-3 py-1 bg-[var(--primary)]/20 text-[var(--primary)] text-[10px] font-black uppercase tracking-widest rounded-full mb-4\">Family Private Mall</span>\n            <h2 className=\"text-4xl md:text-5xl font-black mb-4 leading-tight\">\n              Ïö∞Ï£ºÏóêÏÑú Í∞ÄÏû• <br />\n              <span className=\"text-[var(--accent)]\">ÌäπÎ≥ÑÌïú ÏáºÌïë</span> Ï≤¥Ìóò\n            </h2>\n            <p className=\"text-slate-400 text-sm mb-6 leading-relaxed\">\n              Í∞ÄÏ°± ÎåÄÏõêÎì§ÏùÑ ÏúÑÌïú Î°úÏºì Ìè¨Ïù∏Ìä∏ Ï†ÑÏö© ÏáºÌïëÎ™∞Ïóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§.\n              ÏßÄÍ∏à Î∞îÎ°ú ÎåÄÏõê ÏΩîÎìúÎ°ú Ï†ëÏÜçÌï¥ ÌòúÌÉùÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.\n            </p>\n          </div>\n          {/* Decorative elements */}\n          <div className=\"absolute top-[-20%] right-[-10%] w-96 h-96 bg-[var(--primary)]/10 blur-[100px] rounded-full\"></div>\n          <div className=\"absolute bottom-[-20%] left-[-10%] w-64 h-64 bg-[var(--accent)]/10 blur-[80px] rounded-full\"></div>\n          <div className=\"absolute -top-10 -right-10 opacity-10 hidden lg:block transform rotate-12 transition-transform hover:rotate-0 duration-1000 select-none pointer-events-none\">\n            <span className=\"text-[200px]\">üöÄ</span>\n          </div>\n        </section>\n\n        {/* Product Grid */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <h3 className=\"text-2xl font-black\">ÎåÄÏõê Ï†ÑÏö© ÏïÑÏù¥ÌÖú</h3>\n          <div className=\"flex gap-2\">\n            <div className=\"h-1 w-8 bg-[var(--primary)] rounded-full\"></div>\n            <div className=\"h-1 w-2 bg-white/20 rounded-full\"></div>\n          </div>\n        </div>\n\n        {loading ? (\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"aspect-[3/4] glass-card animate-pulse bg-white/5\"></div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-2 gap-6 md:grid-cols-3 lg:grid-cols-4\">\n            {products.map((product) => (\n              <div key={product._id} className=\"group glass-card overflow-hidden flex flex-col h-full relative\">\n                {session?.user.role === 'admin' && (\n                  <div className=\"absolute top-4 right-4 flex gap-2 z-20 opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0\">\n                    <Link href={`/admin/products/${product._id}/edit`} className=\"bg-white/10 hover:bg-blue-500 backdrop-blur-md text-white px-2 py-1 rounded-lg text-[10px] font-bold border border-white/20 transition-colors\">ÏàòÏ†ï</Link>\n                    <button onClick={(e) => handleDelete(product._id, e)} className=\"bg-white/10 hover:bg-red-500 backdrop-blur-md text-white px-2 py-1 rounded-lg text-[10px] font-bold border border-white/20 transition-colors\">ÏÇ≠Ï†ú</button>\n                  </div>\n                )}\n\n                <div className=\"aspect-square relative overflow-hidden bg-white/5\">\n                  <img\n                    src={product.image || '/images/boilerplate-product.png'}\n                    alt={product.title}\n                    className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n                    onError={(e) => {\n                      (e.target as HTMLImageElement).src = 'https://via.placeholder.com/300?text=Rocket+Store';\n                    }}\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-[#050A18] via-transparent to-transparent opacity-60\"></div>\n\n                  <div className=\"absolute bottom-4 left-4 right-4 flex justify-between items-end\">\n                    <div className=\"bg-black/40 backdrop-blur-md px-3 py-1.5 rounded-xl border border-white/10 shadow-xl\">\n                      <span className=\"text-sm font-black text-[var(--accent)] tracking-tight\">{product.price.toLocaleString()} <span className=\"text-[10px] opacity-70\">P</span></span>\n                    </div>\n                    {product.type === 'rent' && (\n                      <span className=\"bg-blue-500 px-2 py-1 rounded-lg text-[9px] font-black uppercase tracking-wider shadow-lg border border-blue-400/50\">Rent</span>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"p-4 flex flex-col flex-grow\">\n                  <div className=\"mb-1\">\n                    <span className=\"text-[9px] font-bold text-[var(--text-muted)] uppercase tracking-widest\">{product.category}</span>\n                  </div>\n                  <h3 className=\"font-bold text-base mb-2 line-clamp-1 group-hover:text-[var(--accent)] transition-colors\">{product.title}</h3>\n                  <p className=\"text-xs text-slate-400 mb-4 line-clamp-2 leading-relaxed min-h-[2.5rem]\">{product.description || 'ÏïÑÏù¥ÌÖú ÏÑ§Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.'}</p>\n\n                  <div className=\"mt-auto flex justify-between items-center pt-4 border-t border-white/5\">\n                    <span className=\"text-[10px] font-bold text-slate-500 uppercase\">Stock: <span className={product.stock > 0 ? 'text-green-400' : 'text-red-400'}>{product.stock}</span></span>\n                    <button\n                      onClick={() => handleAddToCart(product)}\n                      disabled={product.stock === 0}\n                      className={`btn-rocket text-[10px] px-4 py-2 h-8 ${product.stock === 0 ? 'opacity-50 grayscale cursor-not-allowed' : ''}`}\n                    >\n                      {product.stock === 0 ? 'ÌíàÏ†à' : 'Îã¥Í∏∞'}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {!loading && products.length === 0 && (\n          <div className=\"glass-card py-24 text-center\">\n            <span className=\"text-6xl mb-6 block opacity-20\">üõ∏</span>\n            <p className=\"text-slate-400 font-medium\">\n              ÏïÑÏßÅ Îì±Î°ùÎêú ÏïÑÏù¥ÌÖúÏù¥ ÏóÜÏäµÎãàÎã§.<br />\n              {session?.user.role === 'admin' ? 'Ìï®ÏÑ†Ïùò ÏûêÏõêÏùÑ Îì±Î°ùÌï¥ Ï£ºÏÑ∏Ïöî!' : 'Î≥∏Î∂ÄÏóêÏÑú ÏïÑÏù¥ÌÖúÏùÑ Îì±Î°ùÌï† ÎïåÍπåÏßÄ Í∏∞Îã§Î†§ Ï£ºÏÑ∏Ïöî.'}\n            </p>\n          </div>\n        )}\n      </main>\n\n      {/* Footer Meta */}\n      <footer className=\"max-w-7xl mx-auto px-6 py-10 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] text-slate-500 uppercase tracking-widest font-bold\">\n        <p>¬© 2026 Rocket Family Mall - All Systems Nominal</p>\n        <div className=\"flex gap-6\">\n          <span className=\"hover:text-white transition-colors cursor-help\">Security: AES-256</span>\n          <span className=\"hover:text-white transition-colors cursor-help\">Database: MongoDB Atlas</span>\n          <span className=\"hover:text-[var(--primary)] transition-colors\">By Antigravity</span>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAkBe,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,4JAAU;IACpC,MAAM,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,IAAA,kIAAO;IACxC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACV,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,YAAY;YACd;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,UAAU;YACR,WAAW,QAAQ,GAAG;YACtB,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,KAAK;YACpB,OAAO,QAAQ,KAAK;YACpB,UAAU;YACV,MAAM,QAAQ,IAAI;QACpB;IACF;IAEA,MAAM,eAAe,OAAO,IAAY;QACtC,EAAE,cAAc;QAChB,IAAI,CAAC,QAAQ,iBAAiB;QAC9B,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,CAAC,cAAc,EAAE,IAAI,EAAE;gBAAE,QAAQ;YAAS;YAClE,IAAI,IAAI,EAAE,EAAE;gBACV;YACF,OAAO;gBACL,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,uKAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,8OAAC;oCAAK,WAAU;8CAAsD;;;;;;8CACtE,8OAAC;oCAAG,WAAU;8CAA8D;;;;;;;;;;;;sCAG9E,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAI;oCAAC,MAAK;oCAAQ,WAAU;;sDAC3B,8OAAC;4CAAK,WAAU;sDAA2D;;;;;;wCAC1E,YAAY,mBACX,8OAAC;4CAAK,WAAU;sDACb;;;;;;;;;;;;gCAKN,wBACC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,uKAAI;4CAAC,MAAK;4CAAW,WAAU;;8DAC9B,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC;wDAAI,WAAU;kEACZ,QAAQ,IAAI,EAAE,sBACb,8OAAC;4DAAI,KAAK,QAAQ,IAAI,CAAC,KAAK;4DAAE,KAAI;4DAAO,WAAU;;;;;iFAEnD,8OAAC;4DAAK,WAAU;sEAAU;;;;;;;;;;;;;;;;8DAIhC,8OAAC;oDAAK,WAAU;8DAAgF,QAAQ,IAAI,EAAE;;;;;;;;;;;;wCAE/G,QAAQ,IAAI,CAAC,IAAI,KAAK,yBACrB,8OAAC,uKAAI;4CAAC,MAAK;4CAAsB,WAAU;;8DACzC,8OAAC;oDAAK,WAAU;8DAAU;;;;;;gDAAQ;;;;;;;;;;;;yDAKxC,8OAAC,uKAAI;oCAAC,MAAK;oCAAc,WAAU;8CAAoH;;;;;;;;;;;;;;;;;;;;;;;0BAQ/J,8OAAC;gBAAK,WAAU;;kCAEd,8OAAC;wBAAQ,WAAU;;0CACjB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAyI;;;;;;kDACzJ,8OAAC;wCAAG,WAAU;;4CAAqD;0DACzD,8OAAC;;;;;0DACT,8OAAC;gDAAK,WAAU;0DAAuB;;;;;;4CAAa;;;;;;;kDAEtD,8OAAC;wCAAE,WAAU;kDAA8C;;;;;;;;;;;;0CAM7D,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAK,WAAU;8CAAe;;;;;;;;;;;;;;;;;kCAKnC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAsB;;;;;;0CACpC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;oBAIlB,wBACC,8OAAC;wBAAI,WAAU;kCACZ;4BAAC;4BAAG;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACjB,8OAAC;gCAAY,WAAU;+BAAb;;;;;;;;;6CAId,8OAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;gCAAsB,WAAU;;oCAC9B,SAAS,KAAK,SAAS,yBACtB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC,uKAAI;gDAAC,MAAM,CAAC,gBAAgB,EAAE,QAAQ,GAAG,CAAC,KAAK,CAAC;gDAAE,WAAU;0DAAgJ;;;;;;0DAC7M,8OAAC;gDAAO,SAAS,CAAC,IAAM,aAAa,QAAQ,GAAG,EAAE;gDAAI,WAAU;0DAA+I;;;;;;;;;;;;kDAInN,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,KAAK,QAAQ,KAAK,IAAI;gDACtB,KAAK,QAAQ,KAAK;gDAClB,WAAU;gDACV,SAAS,CAAC;oDACP,EAAE,MAAM,CAAsB,GAAG,GAAG;gDACvC;;;;;;0DAEF,8OAAC;gDAAI,WAAU;;;;;;0DAEf,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAK,WAAU;;gEAA0D,QAAQ,KAAK,CAAC,cAAc;gEAAG;8EAAC,8OAAC;oEAAK,WAAU;8EAAyB;;;;;;;;;;;;;;;;;oDAEpJ,QAAQ,IAAI,KAAK,wBAChB,8OAAC;wDAAK,WAAU;kEAAsH;;;;;;;;;;;;;;;;;;kDAK5I,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDAAK,WAAU;8DAA2E,QAAQ,QAAQ;;;;;;;;;;;0DAE7G,8OAAC;gDAAG,WAAU;0DAA4F,QAAQ,KAAK;;;;;;0DACvH,8OAAC;gDAAE,WAAU;0DAA2E,QAAQ,WAAW,IAAI;;;;;;0DAE/G,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAK,WAAU;;4DAAiD;0EAAO,8OAAC;gEAAK,WAAW,QAAQ,KAAK,GAAG,IAAI,mBAAmB;0EAAiB,QAAQ,KAAK;;;;;;;;;;;;kEAC9J,8OAAC;wDACC,SAAS,IAAM,gBAAgB;wDAC/B,UAAU,QAAQ,KAAK,KAAK;wDAC5B,WAAW,CAAC,qCAAqC,EAAE,QAAQ,KAAK,KAAK,IAAI,4CAA4C,IAAI;kEAExH,QAAQ,KAAK,KAAK,IAAI,OAAO;;;;;;;;;;;;;;;;;;;+BA3C5B,QAAQ,GAAG;;;;;;;;;;oBAoD1B,CAAC,WAAW,SAAS,MAAM,KAAK,mBAC/B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAiC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;;oCAA6B;kDACvB,8OAAC;;;;;oCACjB,SAAS,KAAK,SAAS,UAAU,qBAAqB;;;;;;;;;;;;;;;;;;;0BAO/D,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;kCAAE;;;;;;kCACH,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;0CAAiD;;;;;;0CACjE,8OAAC;gCAAK,WAAU;0CAAiD;;;;;;0CACjE,8OAAC;gCAAK,WAAU;0CAAgD;;;;;;;;;;;;;;;;;;;;;;;;AAK1E"}}]
}