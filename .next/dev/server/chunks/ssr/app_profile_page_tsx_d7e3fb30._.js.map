{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/rocket/app/profile/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useSession, signOut } from 'next-auth/react';\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\n\r\ninterface OrderItem {\r\n    title: string;\r\n    quantity: number;\r\n    price: number;\r\n    type: 'buy' | 'rent';\r\n}\r\n\r\ninterface Order {\r\n    _id: string;\r\n    items: OrderItem[];\r\n    totalPrice: number;\r\n    status: string;\r\n    createdAt: string;\r\n    shippingFee: number;\r\n}\r\n\r\nexport default function ProfilePage() {\r\n    const { data: session, status } = useSession();\r\n    const [orders, setOrders] = useState<Order[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (session) {\r\n            fetchOrders();\r\n        }\r\n    }, [session]);\r\n\r\n    const fetchOrders = async () => {\r\n        try {\r\n            const res = await fetch('/api/orders');\r\n            if (res.ok) {\r\n                const data = await res.json();\r\n                setOrders(data);\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (status === 'loading') return (\r\n        <div className=\"min-h-screen flex items-center justify-center\">\r\n            <div className=\"w-12 h-12 border-4 border-white/10 border-t-[var(--accent)] rounded-full animate-spin\"></div>\r\n        </div>\r\n    );\r\n\r\n    if (!session) return (\r\n        <div className=\"min-h-screen flex items-center justify-center px-6\">\r\n            <div className=\"glass-card p-10 text-center max-w-sm w-full\">\r\n                <span className=\"text-5xl mb-6 block\">üö´</span>\r\n                <h2 className=\"text-xl font-black mb-4 uppercase tracking-tight\">Ï†ëÍ∑º Í±∞Î∂Ä</h2>\r\n                <p className=\"text-slate-400 text-sm mb-8\">ÎåÄÏõê Ïù∏Ï¶ùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.</p>\r\n                <Link href=\"/auth/login\" className=\"btn-rocket w-full\">Ïù∏Ï¶ùÌïòÎü¨ Í∞ÄÍ∏∞</Link>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen pt-24 pb-20 px-6 max-w-2xl mx-auto\">\r\n            <div className=\"flex justify-between items-center mb-8\">\r\n                <h1 className=\"text-3xl font-black text-gradient uppercase tracking-tighter\">Ìï®ÏÑ† ÏùºÏßÄ üõ°Ô∏è</h1>\r\n                <Link href=\"/\" className=\"text-sm font-bold text-slate-400 hover:text-white transition-colors\">ÌôàÏúºÎ°ú</Link>\r\n            </div>\r\n\r\n            {/* User Info Card */}\r\n            <div className=\"glass-card p-8 mb-10 relative overflow-hidden group\">\r\n                <div className=\"absolute top-0 right-0 w-32 h-32 bg-[var(--primary)]/10 blur-[50px] rounded-full -translate-y-1/2 translate-x-1/2 transition-transform group-hover:scale-150 duration-700\"></div>\r\n\r\n                <div className=\"flex flex-col md:flex-row items-center gap-6 relative z-10\">\r\n                    <div className=\"w-24 h-24 rounded-full p-[2px] bg-gradient-to-br from-[var(--primary)] to-[var(--accent)] shadow-2xl\">\r\n                        <div className=\"w-full h-full bg-[#112240] rounded-full flex items-center justify-center text-4xl overflow-hidden border-2 border-transparent\">\r\n                            {session.user.image ? <img src={session.user.image} alt=\"Profile\" className=\"w-full h-full object-cover\" /> : 'üöÄ'}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-center md:text-left flex-grow\">\r\n                        <div className=\"inline-block px-3 py-1 bg-white/5 border border-white/10 rounded-full mb-2\">\r\n                            <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-[var(--accent)]\">\r\n                                {session.user.role === 'admin' ? 'Commander (Admin)' : 'Explorer (Member)'}\r\n                            </span>\r\n                        </div>\r\n                        <h2 className=\"text-2xl font-black mb-1 leading-none\">{session.user.name}</h2>\r\n                        <p className=\"text-slate-400 text-sm font-medium italic opacity-70\">Point Base Active</p>\r\n                    </div>\r\n\r\n                    <div className=\"md:border-l border-white/10 md:pl-6 text-center md:text-right\">\r\n                        <button\r\n                            onClick={() => signOut()}\r\n                            className=\"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-500 text-xs font-black uppercase tracking-widest rounded-xl transition-all border border-red-500/20\"\r\n                        >\r\n                            Î°úÍ∑∏ÏïÑÏõÉ\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-xl font-black uppercase tracking-tight\">Ï£ºÎ¨∏ Î≥¥Í∏â Í∏∞Î°ù</h2>\r\n                <div className=\"h-px bg-white/10 flex-grow mx-4\"></div>\r\n                <span className=\"text-[10px] font-bold text-slate-500\">{orders.length} ITEMS</span>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <div className=\"space-y-4\">\r\n                    {[1, 2, 3].map(i => <div key={i} className=\"h-32 glass-card animate-pulse\"></div>)}\r\n                </div>\r\n            ) : orders.length === 0 ? (\r\n                <div className=\"glass-card py-20 text-center border-dashed\">\r\n                    <p className=\"text-slate-500 font-bold uppercase tracking-widest text-sm\">ÏïÑÏßÅ Í∏∞Î°ùÎêú Î≥¥Í∏âÏù¥ ÏóÜÏäµÎãàÎã§.</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-6\">\r\n                    {orders.map((order) => (\r\n                        <div key={order._id} className=\"glass-card p-6 group hover:border-[var(--accent)]/30 transition-all\">\r\n                            <div className=\"flex justify-between items-start mb-6 border-b border-white/5 pb-4\">\r\n                                <div>\r\n                                    <div className=\"flex items-center gap-3 mb-1\">\r\n                                        <span className={`px-2 py-0.5 rounded text-[9px] font-black uppercase tracking-wider \r\n                      ${order.status === 'pending' ? 'bg-yellow-500/20 text-yellow-500 border border-yellow-500/20' :\r\n                                                order.status === 'approved' ? 'bg-blue-500/20 text-blue-500 border border-blue-500/20' :\r\n                                                    order.status === 'fulfilled' ? 'bg-green-500/20 text-green-500 border border-green-500/20' :\r\n                                                        'bg-red-500/20 text-red-500 border border-red-500/20'}`}>\r\n                                            {order.status === 'pending' ? 'ÏäπÏù∏ ÎåÄÍ∏∞' :\r\n                                                order.status === 'approved' ? 'Î∞∞ÏÜ° Ï§ë' :\r\n                                                    order.status === 'fulfilled' ? 'Î∞∞ÏÜ° ÏôÑÎ£å' : 'Î∞òÎ†§Îê®'}\r\n                                        </span>\r\n                                        <span className=\"text-[10px] font-bold text-slate-500 font-mono\">\r\n                                            #{order._id.slice(-6).toUpperCase()}\r\n                                        </span>\r\n                                    </div>\r\n                                    <span className=\"text-[10px] text-slate-500 font-bold\">\r\n                                        {new Date(order.createdAt).toLocaleDateString()} {new Date(order.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"text-right\">\r\n                                    <div className=\"text-lg font-black text-gradient\">{order.totalPrice.toLocaleString()} P</div>\r\n                                    {order.shippingFee > 0 && <span className=\"text-[9px] text-slate-500 font-bold tracking-tight\">Î∞∞ÏÜ°ÎπÑ {order.shippingFee}P Ìè¨Ìï®</span>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <ul className=\"space-y-3\">\r\n                                {order.items.map((item, idx) => (\r\n                                    <li key={idx} className=\"flex justify-between items-center group/item\">\r\n                                        <div className=\"flex items-center gap-3\">\r\n                                            <div className=\"w-2 h-2 rounded-full bg-white/20 group-hover/item:bg-[var(--accent)] transition-colors\"></div>\r\n                                            <span className=\"text-sm font-bold text-slate-300 group-hover/item:text-white transition-colors\">\r\n                                                {item.type === 'rent' && <span className=\"text-[9px] bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded mr-2 border border-blue-500/10 uppercase tracking-tighter\">Rent</span>}\r\n                                                {item.title}\r\n                                            </span>\r\n                                            <span className=\"text-[10px] font-black text-slate-500 bg-white/5 px-2 py-0.5 rounded-full\">x{item.quantity}</span>\r\n                                        </div>\r\n                                        <span className=\"text-xs font-black text-slate-400\">{(item.price * item.quantity).toLocaleString()} P</span>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAsBe,SAAS;IACpB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,4JAAU;IAC5C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACN,IAAI,SAAS;YACT;QACJ;IACJ,GAAG;QAAC;KAAQ;IAEZ,MAAM,cAAc;QAChB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,IAAI,EAAE,EAAE;gBACR,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,UAAU;YACd;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;QAClB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAI,WAAW,WAAW,qBACtB,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;;;;;;;;;;IAIvB,IAAI,CAAC,SAAS,qBACV,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAK,WAAU;8BAAsB;;;;;;8BACtC,8OAAC;oBAAG,WAAU;8BAAmD;;;;;;8BACjE,8OAAC;oBAAE,WAAU;8BAA8B;;;;;;8BAC3C,8OAAC,uKAAI;oBAAC,MAAK;oBAAc,WAAU;8BAAoB;;;;;;;;;;;;;;;;;IAKnE,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAA+D;;;;;;kCAC7E,8OAAC,uKAAI;wBAAC,MAAK;wBAAI,WAAU;kCAAsE;;;;;;;;;;;;0BAInG,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;;;;;kCAEf,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAI,WAAU;8CACV,QAAQ,IAAI,CAAC,KAAK,iBAAG,8OAAC;wCAAI,KAAK,QAAQ,IAAI,CAAC,KAAK;wCAAE,KAAI;wCAAU,WAAU;;;;;+CAAkC;;;;;;;;;;;0CAItH,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC;4CAAK,WAAU;sDACX,QAAQ,IAAI,CAAC,IAAI,KAAK,UAAU,sBAAsB;;;;;;;;;;;kDAG/D,8OAAC;wCAAG,WAAU;kDAAyC,QAAQ,IAAI,CAAC,IAAI;;;;;;kDACxE,8OAAC;wCAAE,WAAU;kDAAuD;;;;;;;;;;;;0CAGxE,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCACG,SAAS,IAAM,IAAA,yJAAO;oCACtB,WAAU;8CACb;;;;;;;;;;;;;;;;;;;;;;;0BAOb,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAA8C;;;;;;kCAC5D,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAK,WAAU;;4BAAwC,OAAO,MAAM;4BAAC;;;;;;;;;;;;;YAGzE,wBACG,8OAAC;gBAAI,WAAU;0BACV;oBAAC;oBAAG;oBAAG;iBAAE,CAAC,GAAG,CAAC,CAAA,kBAAK,8OAAC;wBAAY,WAAU;uBAAb;;;;;;;;;uBAElC,OAAO,MAAM,KAAK,kBAClB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAE,WAAU;8BAA6D;;;;;;;;;;qCAG9E,8OAAC;gBAAI,WAAU;0BACV,OAAO,GAAG,CAAC,CAAC,sBACT,8OAAC;wBAAoB,WAAU;;0CAC3B,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DACG,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAK,WAAW,CAAC;sBACpC,EAAE,MAAM,MAAM,KAAK,YAAY,iEACL,MAAM,MAAM,KAAK,aAAa,2DAC1B,MAAM,MAAM,KAAK,cAAc,8DAC3B,uDAAuD;kEAClE,MAAM,MAAM,KAAK,YAAY,UAC1B,MAAM,MAAM,KAAK,aAAa,SAC1B,MAAM,MAAM,KAAK,cAAc,UAAU;;;;;;kEAErD,8OAAC;wDAAK,WAAU;;4DAAiD;4DAC3D,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW;;;;;;;;;;;;;0DAGzC,8OAAC;gDAAK,WAAU;;oDACX,IAAI,KAAK,MAAM,SAAS,EAAE,kBAAkB;oDAAG;oDAAE,IAAI,KAAK,MAAM,SAAS,EAAE,kBAAkB,CAAC,EAAE,EAAE;wDAAE,MAAM;wDAAW,QAAQ;oDAAU;;;;;;;;;;;;;kDAGhJ,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAI,WAAU;;oDAAoC,MAAM,UAAU,CAAC,cAAc;oDAAG;;;;;;;4CACpF,MAAM,WAAW,GAAG,mBAAK,8OAAC;gDAAK,WAAU;;oDAAqD;oDAAK,MAAM,WAAW;oDAAC;;;;;;;;;;;;;;;;;;;0CAI9H,8OAAC;gCAAG,WAAU;0CACT,MAAM,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,oBACpB,8OAAC;wCAAa,WAAU;;0DACpB,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;wDAAI,WAAU;;;;;;kEACf,8OAAC;wDAAK,WAAU;;4DACX,KAAK,IAAI,KAAK,wBAAU,8OAAC;gEAAK,WAAU;0EAA0H;;;;;;4DAClK,KAAK,KAAK;;;;;;;kEAEf,8OAAC;wDAAK,WAAU;;4DAA4E;4DAAE,KAAK,QAAQ;;;;;;;;;;;;;0DAE/G,8OAAC;gDAAK,WAAU;;oDAAqC,CAAC,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAE,cAAc;oDAAG;;;;;;;;uCAT9F;;;;;;;;;;;uBA7BX,MAAM,GAAG;;;;;;;;;;;;;;;;AAgD3C"}}]
}