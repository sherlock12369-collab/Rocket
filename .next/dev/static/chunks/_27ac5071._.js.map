{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/rocket/components/ProductForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface ProductFormProps {\r\n    initialData?: {\r\n        title: string;\r\n        price: number;\r\n        description: string;\r\n        image: string;\r\n        stock: number;\r\n        category: string;\r\n        type: 'buy' | 'rent';\r\n    };\r\n    onSubmit: (data: any) => Promise<void>;\r\n    isEdit?: boolean;\r\n}\r\n\r\nexport default function ProductForm({ initialData, onSubmit, isEdit = false }: ProductFormProps) {\r\n    const [formData, setFormData] = useState({\r\n        title: initialData?.title || '',\r\n        price: initialData?.price || 0,\r\n        description: initialData?.description || '',\r\n        image: initialData?.image || '',\r\n        stock: initialData?.stock || 1,\r\n        category: initialData?.category || '',\r\n        type: initialData?.type || 'buy',\r\n    });\r\n    const [uploadType, setUploadType] = useState<'url' | 'file'>('url');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({\r\n            ...prev,\r\n            [name]: name === 'price' || name === 'stock' ? Number(value) : value,\r\n        }));\r\n    };\r\n\r\n    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        // 파일 크기 제한 (예: 2MB)\r\n        if (file.size > 2 * 1024 * 1024) {\r\n            alert('파일 크기가 너무 큽니다. 2MB 이하의 이미지를 선택해주세요.');\r\n            return;\r\n        }\r\n\r\n        const reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            setFormData((prev) => ({\r\n                ...prev,\r\n                image: reader.result as string,\r\n            }));\r\n        };\r\n        reader.readAsDataURL(file);\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        await onSubmit(formData);\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-6 max-w-xl mx-auto glass-card p-8\">\r\n            <h2 className=\"text-2xl font-black mb-6 text-gradient\">{isEdit ? '아이템 수정' : '신규 아이템 등록'}</h2>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight\">상품명</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    value={formData.title}\r\n                    onChange={handleChange}\r\n                    required\r\n                    placeholder=\"아이템 이름을 입력하세요\"\r\n                    className=\"modern-input\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-6\">\r\n                <div>\r\n                    <label className=\"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight\">가격 (포인트)</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"price\"\r\n                        value={formData.price}\r\n                        onChange={handleChange}\r\n                        required\r\n                        min=\"0\"\r\n                        className=\"modern-input\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight\">재고</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        name=\"stock\"\r\n                        value={formData.stock}\r\n                        onChange={handleChange}\r\n                        required\r\n                        min=\"0\"\r\n                        className=\"modern-input\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight\">유형</label>\r\n                <select\r\n                    name=\"type\"\r\n                    value={formData.type}\r\n                    onChange={handleChange}\r\n                    className=\"modern-input\"\r\n                >\r\n                    <option value=\"buy\" className=\"bg-[#112240]\">구매 (Buy)</option>\r\n                    <option value=\"rent\" className=\"bg-[#112240]\">대여 (Rent)</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight\">카테고리</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"category\"\r\n                    value={formData.category}\r\n                    onChange={handleChange}\r\n                    placeholder=\"예: 장난감, 간식, 쿠폰\"\r\n                    required\r\n                    className=\"modern-input\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n                <label className=\"block text-sm font-bold text-slate-400 uppercase tracking-tight\">이미지 등록</label>\r\n                <div className=\"flex gap-4 p-1 bg-white/5 rounded-2xl w-fit border border-white/5\">\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setUploadType('url')}\r\n                        className={`text-[10px] font-black uppercase tracking-wider px-4 py-2 rounded-xl transition-all ${uploadType === 'url' ? 'bg-[var(--primary)] text-white shadow-lg' : 'text-slate-500 hover:text-white'}`}\r\n                    >\r\n                        URL 입력\r\n                    </button>\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={() => setUploadType('file')}\r\n                        className={`text-[10px] font-black uppercase tracking-wider px-4 py-2 rounded-xl transition-all ${uploadType === 'file' ? 'bg-[var(--primary)] text-white shadow-lg' : 'text-slate-500 hover:text-white'}`}\r\n                    >\r\n                        파일 업로드\r\n                    </button>\r\n                </div>\r\n\r\n                {uploadType === 'url' ? (\r\n                    <input\r\n                        type=\"url\"\r\n                        name=\"image\"\r\n                        value={formData.image.startsWith('data:') ? '' : formData.image}\r\n                        onChange={handleChange}\r\n                        placeholder=\"https://example.com/image.jpg (미입력 시 기본 이미지)\"\r\n                        className=\"modern-input\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"space-y-4\">\r\n                        <div className=\"relative group\">\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={handleFileChange}\r\n                                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\r\n                            />\r\n                            <div className=\"modern-input flex items-center justify-center border-dashed border-2 py-8 group-hover:border-[var(--accent)] group-hover:bg-white/5 transition-all\">\r\n                                <span className=\"text-xs font-bold text-slate-400\">파일을 클릭하거나 드래그하세요</span>\r\n                            </div>\r\n                        </div>\r\n                        {formData.image && formData.image.startsWith('data:') && (\r\n                            <div className=\"relative w-24 h-24 rounded-2xl overflow-hidden border border-white/10 ring-4 ring-white/5 mx-auto\">\r\n                                <img src={formData.image} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                                <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent\"></div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-bold text-slate-400 mb-2 uppercase tracking-tight\">설명 (선택)</label>\r\n                <textarea\r\n                    name=\"description\"\r\n                    value={formData.description}\r\n                    onChange={handleChange}\r\n                    rows={4}\r\n                    className=\"modern-input resize-none\"\r\n                    placeholder=\"아이템에 대한 설명을 입력하세요\"\r\n                />\r\n            </div>\r\n\r\n            <button\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                className=\"w-full btn-rocket py-4 text-sm tracking-widest uppercase mt-4\"\r\n            >\r\n                {loading ? (\r\n                    <span className=\"flex items-center gap-2\">\r\n                        <span className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"></span>\r\n                        데이터 전송 중...\r\n                    </span>\r\n                ) : isEdit ? '아이템 정보 수정' : '신규 아이템 등록'}\r\n            </button>\r\n        </form>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/rocket/app/admin/products/new/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport ProductForm from '@/components/ProductForm';\r\nimport { useSession } from 'next-auth/react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useEffect } from 'react';\r\n\r\nexport default function NewProductPage() {\r\n    const { data: session, status } = useSession();\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        if (status === 'unauthenticated' || (session && session.user.role !== 'admin')) {\r\n            router.push('/');\r\n        }\r\n    }, [status, session, router]);\r\n\r\n    if (status === 'loading') return <div className=\"text-center p-10\">Loading...</div>;\r\n\r\n    const handleCreate = async (data: any) => {\r\n        try {\r\n            const res = await fetch('/api/products', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(data),\r\n            });\r\n\r\n            if (res.ok) {\r\n                router.push('/');\r\n                router.refresh();\r\n            } else {\r\n                alert('상품 등록에 실패했습니다.');\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n            alert('오류가 발생했습니다.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-4 py-10\">\r\n            <h1 className=\"text-2xl font-bold text-center mb-6 text-[var(--primary)]\">새 상품 등록</h1>\r\n            <ProductForm onSubmit={handleCreate} />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOe,SAAS;;IACpB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACN,IAAI,WAAW,qBAAsB,WAAW,QAAQ,IAAI,CAAC,IAAI,KAAK,SAAU;gBAC5E,OAAO,IAAI,CAAC;YAChB;QACJ;mCAAG;QAAC;QAAQ;QAAS;KAAO;IAE5B,IAAI,WAAW,WAAW,qBAAO,6LAAC;QAAI,WAAU;kBAAmB;;;;;;IAEnE,MAAM,eAAe,OAAO;QACxB,IAAI;YACA,MAAM,MAAM,MAAM,MAAM,iBAAiB;gBACrC,QAAQ;gBACR,SAAS;oBACL,gBAAgB;gBACpB;gBACA,MAAM,KAAK,SAAS,CAAC;YACzB;YAEA,IAAI,IAAI,EAAE,EAAE;gBACR,OAAO,IAAI,CAAC;gBACZ,OAAO,OAAO;YAClB,OAAO;gBACH,MAAM;YACV;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM;QACV;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAA4D;;;;;;0BAC1E,6LAAC,wIAAW;gBAAC,UAAU;;;;;;;;;;;;AAGnC;GAxCwB;;QACc,+JAAU;QAC7B,kJAAS;;;KAFJ"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///C:/coding/rocket/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}